import json
from datetime import datetime

future_json = {
    0: [  # Понедельник
        {
            "name": "Иностранный язык",
            "type": "пара",
            "time": "19:00-20:20",
            "cabinet": "",  # Кабинет не указан
            "dates": {
                2: [10, 17, 24],  # Февраль
                3: [3, 10, 17, 24, 31],  # Март
                4: [7, 14, 21, 28],  # Апрель
                5: [5, 12, 19, 26],  # Май
            },
        },
    ],
    1: [  # Вторник
        {
            "name": "Глобальная безопасность: новые вызовы и угрозы (лекция - Волохов, семинар - Рудницкий)",
            "type": "лекция",
            "time": "19:00-20:20",
            "cabinet": "468 каб.",
            "dates": {2: [11], 3: [4]},  # Февраль, Март
        },
        {
            "name": "Глобальная безопасность: новые вызовы и угрозы (лекция - Волохов, семинар - Рудницкий)",
            "type": "лекция",
            "time": "20:40-22:00",
            "cabinet": "468 каб.",  # Предполагаем, что кабинет тот же для лекции
            "dates": {2: [11], 3: [25]},  # Февраль, Март
        },
        {
            "name": "Глобальная безопасность: новые вызовы и угрозы (лекция - Волохов, семинар - Рудницкий)",
            "type": "семинар",
            "time": "19:00-20:20",
            "cabinet": "302 каб.",
            "dates": {3: [18, 25], 4: [29], 5: [13]},  # Март, Апрель, Май
        },
        {
            "name": "Глобальная безопасность: новые вызовы и угрозы (лекция - Волохов, семинар - Рудницкий)",
            "type": "семинар",
            "time": "20:40-22:00",
            "cabinet": "302 каб.",  # Предполагаем, что кабинет тот же для семинара
            "dates": {3: [4, 18], 4: [29]},  # Март, Апрель
        },
        {
            "name": "Психология профессиональной деятельности (Лекция, семинар - Колосова)",
            "type": "лекция",
            "time": "19:00-20:20",
            "cabinet": "302 каб.",
            "dates": {2: [18], 3: [11]},  # Февраль, Март
        },
        {
            "name": "Психология профессиональной деятельности (Лекция, семинар - Колосова)",
            "type": "лекция",
            "time": "20:40-22:00",
            "cabinet": "302 каб.",  # Предполагаем, что кабинет тот же для лекции
            "dates": {2: [18], 3: [11]},  # Февраль, Март
        },
        {
            "name": "Психология профессиональной деятельности (Лекция, семинар - Колосова)",
            "type": "семинар",
            "time": "19:00-20:20",
            "cabinet": "302 каб.",
            "dates": {2: [25], 4: [1], 5: [6]},  # Февраль, Апрель, Май
        },
        {
            "name": "Психология профессиональной деятельности (Лекция, семинар - Колосова)",
            "type": "семинар",
            "time": "20:40-22:00",
            "cabinet": "302 каб.",  # Предполагаем, что кабинет тот же для семинара
            "dates": {2: [25], 4: [1]},  # Февраль, Апрель
        },
        {
            "name": "Религиозный фактор в мировой политике (Лекция, семинар - Колосова)",
            "type": "лекция",
            "time": "19:00-20:20",
            "cabinet": "302 каб.",
            "dates": {4: [8, 15]},  # Апрель
        },
        {
            "name": "Религиозный фактор в мировой политике (Лекция, семинар - Колосова)",
            "type": "лекция",
            "time": "20:40-22:00",
            "cabinet": "302 каб.",  # Предполагаем, что кабинет тот же для лекции
            "dates": {4: [8, 15]},  # Апрель
        },
        {
            "name": "Религиозный фактор в мировой политике (Лекция, семинар - Колосова)",
            "type": "семинар",
            "time": "19:00-20:20",
            "cabinet": "302 каб.",
            "dates": {4: [22], 5: [20]},  # Апрель, Май
        },
        {
            "name": "Религиозный фактор в мировой политике (Лекция, семинар - Колосова)",
            "type": "семинар",
            "time": "20:40-22:00",
            "cabinet": "302 каб.",  # Предполагаем, что кабинет тот же для семинара
            "dates": {4: [22], 5: [20]},  # Апрель, Май
        },
        {
            "name": "Международные институты в глобальном управлении (Лекция, семинар - Сидорова)",
            "type": "семинар",
            "time": "19:00-20:20",
            "cabinet": "302 каб.",
            "dates": {5: [27]},  # Май
        },
        {
            "name": "Международные институты в глобальном управлении (Лекция, семинар - Сидорова)",
            "type": "семинар",
            "time": "20:40-22:00",
            "cabinet": "302 каб.",  # Предполагаем, что кабинет тот же для семинара
            "dates": {5: [27]},  # Май
        },
    ],
    2: [  # Среда
        {
            "name": "Иностранный язык",
            "type": "пара",
            "time": "19:00-20:20",
            "cabinet": "",  # Кабинет не указан
            "dates": {
                2: [12, 19, 26],  # Февраль
                3: [5, 12, 19, 26],  # Март
                4: [2, 9, 16, 23, 30],  # Апрель
                5: [7, 14, 21],  # Май
            },
        },
    ],
    3: [  # Четверг
        {
            "name": "Евразийское пространство в мировой политике (Лекция, семинар - Жильцов)",
            "type": "лекция",
            "time": "19:00-20:20",
            "cabinet": "401 каб.",
            "dates": {2: [13], 3: [20], 4: [17]},  # Февраль, Март, Апрель
        },
        {
            "name": "Евразийское пространство в мировой политике (Лекция, семинар - Жильцов)",
            "type": "лекция",
            "time": "20:40-22:00",
            "cabinet": "401 каб.",  # Предполагаем, что кабинет тот же для лекции
            "dates": {2: [13], 3: [20], 4: [17]},  # Февраль, Март, Апрель
        },
        {
            "name": "Евразийское пространство в мировой политике (Лекция, семинар - Жильцов)",
            "type": "семинар",
            "time": "19:00-20:20",
            "cabinet": "401 каб.",
            "dates": {2: [27], 4: [3], 5: [22]},  # Февраль, Апрель, Май
        },
        {
            "name": "Евразийское пространство в мировой политике (Лекция, семинар - Жильцов)",
            "type": "семинар",
            "time": "20:40-22:00",
            "cabinet": "401 каб.",  # Предполагаем, что кабинет тот же для семинара
            "dates": {2: [27], 4: [3], 5: [22]},  # Февраль, Апрель, Май
        },
        {
            "name": "Международные институты в глобальном управлении (Лекция, семинар - Сидорова)",
            "type": "лекция",
            "time": "19:00-20:20",
            "cabinet": "401 каб.",
            "dates": {2: [20], 3: [13], 5: [15]},  # Февраль, Март, Май
        },
        {
            "name": "Международные институты в глобальном управлении (Лекция, семинар - Сидорова)",
            "type": "лекция",
            "time": "20:40-22:00",
            "cabinet": "401 каб.",  # Предполагаем, что кабинет тот же для лекции
            "dates": {2: [20], 3: [27], 5: [15]},  # Февраль, Март, Май
        },
        {
            "name": "Международные институты в глобальном управлении (Лекция, семинар - Сидорова)",
            "type": "семинар",
            "time": "19:00-20:20",
            "cabinet": "401 каб.",
            "dates": {3: [27], 4: [10]},  # Март, Апрель
        },
        {
            "name": "Международные институты в глобальном управлении (Лекция, семинар - Сидорова)",
            "type": "семинар",
            "time": "20:40-22:00",
            "cabinet": "401 каб.",  # Предполагаем, что кабинет тот же для семинара
            "dates": {3: [13], 4: [10]},  # Март, Апрель
        },
        {
            "name": "Разрешение конфликтов и миротворчество в мировой политике (Лекция, семинар - Борисов)",
            "type": "лекция",
            "time": "19:00-20:20",
            "cabinet": "401 каб.",
            "dates": {3: [6]},  # Март
        },
        {
            "name": "Разрешение конфликтов и миротворчество в мировой политике (Лекция, семинар - Борисов)",
            "type": "лекция",
            "time": "20:40-22:00",
            "cabinet": "401 каб.",  # Предполагаем, что кабинет тот же для лекции
            "dates": {3: [6]},  # Март
        },
        {
            "name": "Разрешение конфликтов и миротворчество в мировой политике (Лекция, семинар - Борисов)",
            "type": "семинар",
            "time": "19:00-20:20",
            "cabinet": "401 каб.",
            "dates": {4: [24]},  # Апрель
        },
        {
            "name": "Разрешение конфликтов и миротворчество в мировой политике (Лекция, семинар - Борисов)",
            "type": "семинар",
            "time": "20:40-22:00",
            "cabinet": "401 каб.",  # Предполагаем, что кабинет тот же для семинара
            "dates": {4: [24]},  # Апрель
        },
    ],
    4: [  # Пятница
        {
            "name": "Содействие развитию в мировой политике (Лекция, семинар - Борисов)",
            "type": "лекция",
            "time": "19:00-20:20",
            "cabinet": "316 каб.",
            "dates": {2: [28], 3: [14], 4: [11, 25]},  # Февраль, Март, Апрель
        },
        {
            "name": "Содействие развитию в мировой политике (Лекция, семинар - Борисов)",
            "type": "лекция",
            "time": "20:40-22:00",
            "cabinet": "316 каб.",  # Предполагаем, что кабинет тот же для лекции
            "dates": {2: [28]},  # Февраль
        },
        {
            "name": "Содействие развитию в мировой политике (Лекция, семинар - Борисов)",
            "type": "семинар",
            "time": "19:00-20:20",
            "cabinet": "316 каб.",
            "dates": {3: [28], 4: [25], 5: [23]},  # Март, Апрель, Май
        },
        {
            "name": "Содействие развитию в мировой политике (Лекция, семинар - Борисов)",
            "type": "семинар",
            "time": "20:40-22:00",
            "cabinet": "316 каб.",  # Предполагаем, что кабинет тот же для семинара
            "dates": {3: [28], 5: [23]},  # Март, Май
        },
        {
            "name": "Разрешение конфликтов и миротворчество в мировой политике (Лекция, семинар - Борисов)",
            "type": "лекция",
            "time": "19:00-20:20",
            "cabinet": "316 каб.",
            "dates": {2: [21]},  # Февраль
        },
        {
            "name": "Разрешение конфликтов и миротворчество в мировой политике (Лекция, семинар - Борисов)",
            "type": "лекция",
            "time": "20:40-22:00",
            "cabinet": "316 каб.",  # Предполагаем, что кабинет тот же для лекции
            "dates": {2: [21]},  # Февраль
        },
        {
            "name": "Разрешение конфликтов и миротворчество в мировой политике (Лекция, семинар - Борисов)",
            "type": "семинар",
            "time": "19:00-20:20",
            "cabinet": "316 каб.",
            "dates": {3: [14], 4: [11], 5: [16]},  # Март, Апрель, Май
        },
        {
            "name": "Негосударственные акторы в глобальных процессах (Лекция, семинар - Неймарк)",
            "type": "лекция",
            "time": "19:00-20:20",
            "cabinet": "316 каб.",
            "dates": {
                2: [14],
                3: [7],
                4: [],
            },  # Февраль, Март, Апрель (пустой список, т.к. в данных не было дат апреля)
        },
        {
            "name": "Негосударственные акторы в глобальных процессах (Лекция, семинар - Неймарк)",
            "type": "лекция",
            "time": "20:40-22:00",
            "cabinet": "316 каб.",  # Предполагаем, что кабинет тот же для лекции
            "dates": {2: [14], 3: [7]},  # Февраль, Март
        },
        {
            "name": "Негосударственные акторы в глобальных процессах (Лекция, семинар - Неймарк)",
            "type": "семинар",
            "time": "19:00-20:20",
            "cabinet": "316 каб.",
            "dates": {3: [21], 4: [4, 18]},  # Март, Апрель
        },
        {
            "name": "Негосударственные акторы в глобальных процессах (Лекция, семинар - Неймарк)",
            "type": "семинар",
            "time": "20:40-22:00",
            "cabinet": "316 каб.",  # Предполагаем, что кабинет тот же для семинара
            "dates": {3: [21], 4: [4, 18], 5: [16]},  # Март, Апрель, Май
        },
    ],
    5: [],  # Суббота - пока нет данных
    6: [],  # Воскресенье - пока нет данных
}

lessons = []

for value in list(future_json.values()):
    for lesson in value:
        time = lesson["time"].split("-")
        for month in lesson["dates"]:
            for day in lesson["dates"][month]:
                start = datetime.strptime(f"{day}-{month}-2025 {time[0]}", "%d-%m-%Y %H:%M")
                end = datetime.strptime(f"{day}-{month}-2025 {time[1]}", "%d-%m-%Y %H:%M")
                duration = end - start
                lessons.append({
                    "name": lesson["name"],
                    "type": lesson["type"],
                    "cabinet": lesson["cabinet"],
                    "date": start.strftime("%d-%m-%Y %H:%M"),
                    "duration": round(duration.seconds / 60)
                })


with open("sheesh.json", "w+", encoding="UTF-8") as file:
    file.write(json.dumps(lessons, ensure_ascii=False))
